{% extends "layout.html" %}

{% block title %}Add Code Snippet{% endblock %}

{% block head %}
    {{ codemirror.include_codemirror() }}
{% endblock %}

{% block content %}
    {% if success %}
        <span>Snippet added successfully.</span>
    {% endif %}

    <form method="POST">
        {{ form.csrf_token }}
        {{ form.name(class="input input-bordered input-primary w-full max-w-xs") }}
        {{ form.language(class="select select-primary w-full max-w-xs") }}
        {{ form.code }}
        <button class="btn btn-sm btn-primary text-xs" type="submit">
            Add Code Snippet
        </button>
    </form>

    <script>
        var selector = document.getElementById("language");

        selector.addEventListener("change", () => {
          editor_for_code.setOption("mode", selector.value);
        });
    </script>
{% endblock %}
